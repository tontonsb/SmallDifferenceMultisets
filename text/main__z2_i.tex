Consider $\mathbb Z_2^i$ as a linear space. Let us take an arbitrary basis with coordinates $(\mu_1, \mu_2, \ldots, \mu_i)$. We define a subset $H_r$ as follows:

\begin{equation}
    \mu \in H_r \iff 
        \begin{cases}
            \mu_j = 1 & \text{for } j < r \\
            \mu_r = 0
        \end{cases}
\end{equation}
and denote $\xi_r = \sum\limits_{j=0}^r (-2)^j$, which is the sequence $-1,3,-5,11,-21,43,\ldots$ for positive $r$. It is also useful to note the following relation\cite{A077925}:

\begin{equation}
    \label{z2i:eq:xi}
    \xi_r = \frac{1-(-2)^{r+1}}3.
\end{equation}

\begin{theorem}
    \label{z2i:theorem:construction}
    The following construction produces a $(\mathbb Z_2^i, r)$-difference multiset if $r$ is square and $v | \sqrt r$:
    \begin{enumerate}
        \item Select integer $m \colon 0 < m < i$.
        \item Set $d_\mu = \xi_r$ for $\mu \in H_r$ where $r \leq m$.
        \item Select element $\nu \in H_F$ where $H_F$ is the subset containg elements that do not have their digression set yet: $\mu \in H_F \iff \mu \notin \bigcup\limits_{r \leq m} H_r$.
        \item Set $d_\nu = (-1)^m v + \xi_{m+1}$.
        \item Set $d_\mu = \xi_{m+1}$ for all $\mu \in H_F$ such that $\mu \neq \nu$.
    \end{enumerate}
\end{theorem}

A difference multiset is also obtained if the opposite sign is used on every $d_\mu$.

\begin{proof}
	For a selected $m \colon 0 < m < i$ this construction provides us with $2^{i-r}$ digressions of value $d_\mu=\xi_r$ for each $1 \leq r\leq m$ (none of these if $m=0$), $2^{i-m}-1$ digressions equal to $\xi_{m+1}$ and one digression equal to $(-1)^m 2^i+\xi_{m+1}$.
    
    Equations $\sum d_\mu = 0$ and $\sum d_\mu^2 = v(v-1)$ can be shown to be satisfied inserting the values listed above. Relation \eqref{z2i:eq:xi} can be useful.
    
    Equations \eqref{apparatus:eq:dsystem} are left to check for non-identity $\gamma$.
    
    Having $\gamma = (\gamma_1, \gamma_2, \ldots, \gamma_i)$ with $\gamma_g = 1$ for some index $g$ and $\gamma_r = 0$ for all $r < g$ we can observe that:
    \begin{itemize}
        \item $\mu \in H_r \iff \gamma + \mu \in H_r$ if $r < g \lor g > m$;
        \item $\mu \in H_r \iff \gamma + \mu \in H_g$ if $r > g \land g \leq m$;
        \item $\mu \in H_g \iff \gamma + \mu \in H_r$ where $r>g$ if $g \leq m$.
    \end{itemize}
    
    The $H_F$ also counts as one of the $H_r$ subsets whenever $r<g$ is not required to be true, one could loosely treat it as $H_i$ subset.
    
    Depending on the choice of $\gamma$ the final sum can either contain $(2^{i-m}-1) \xi_{m+1}^2 + ((-1)^m 2^i + \xi_{m+1})^2$ or $(2^{i-m}-2) \xi_{m+1}^2 + 2\xi_{m+1}((-1)^m 2^i + \xi_{m+1})$ either of which evaluates to 
    
    We shall consider $g\leq m$ first. The value of \eqref{apparatus:eq:dsystem} is:
    
    \begin{equation}
        \begin{split}
            \sum d_\mu d_{\gamma+\mu}
              = & \sum\limits_{r<g} \sum\limits_{\mu \in H_r} d_\mu d_{\gamma + \mu}
                + \sum\limits_{r>g} \sum\limits_{\mu \in H_r} d_\mu d_{\gamma + \mu}
                + \sum\limits_{\mu \in H_g} d_\mu d_{\gamma + \mu} \\
              = & \sum\limits_{r<g} \sum\limits_{\mu \in H_r} \xi_r^2
                + 2\sum\limits_{r>g} \sum\limits_{\mu \in H_r} \xi_g d_\mu \\
              = & \sum\limits_{r<g} \sum\limits_{\mu \in H_r} \xi_r^2
                - 2 \xi_g \sum\limits_{r \leq g} \sum\limits_{\mu \in H_r} \xi_r \\
              = & \sum\limits_{r<g} 2^{i-r} \xi_r^2
                - 2 \xi_g \sum\limits_{r \leq g}  2^{i-r} \xi_r \\
              = & - v.
        \end{split}
    \end{equation}
    
    Considering $g > m$ we get the following:
    
    \begin{equation}
        \begin{split}
            \sum d_\mu d_{\gamma+\mu}
              = & \sum\limits_{r \leq m} \sum\limits_{\mu \in H_r} d_\mu
                + \sum\limits_{\mu \in F} d_\mu d_{\gamma + \mu} \\
              = & \sum\limits_{r\leq m} 2^{i-r} \xi_r^2
                + (2^{i-m}-2) \xi_{m+1}^2 + 2\xi_{m+1}((-1)^m 2^i + \xi_{m+1}) \\
              = & -v.
        \end{split}
    \end{equation}
    
    Lastly, by inserting $d_\mu = \xi_r$ into $n_\mu=\frac{k+d_\mu \sqrt k}v$ we can observe that integer $n_\mu$ is produced iff $v | \sqrt k$.
\end{proof}

\begin{remark}
    We could also allow to select $m=0$ in Theorem \ref{z2i:theorem:construction}. In that case the constructed difference multiset would be the same one encountered in Section \ref{sec:uni} and it would also produce  integer multiplicities for $k \equiv 1 \mod v$ or $k \equiv -1 \mod v$.
\end{remark}

\begin{theorem}
    There are no other difference multisets than those presented in Theorem \ref{z2i:theorem:construction} for $i < 4$.
\end{theorem}

\begin{proof}
    This result was found directly solving equations \eqref{apparatus:eq:di} and \eqref{apparatus:eq:dsystem}. For $\mathbb Z_2$ and $\mathbb Z_2 \times \mathbb Z_2$ it can be done by hand.
    
    For the case of $\mathbb Z_2^3$ it was done with the help of a computer algebra system. The single-variable polynomial of GrÃ¶bner basis in the case of $\mathbb Z_2^3$ is
    \begin{equation}
        d_\mu^8 - 84 d_\mu^6 + 1974 d_\mu^4 - 12916 d_\mu^2 + 11025
    \end{equation}
    for which the roots are $\pm\xi_1, \pm\xi_2, \pm\xi_3, \pm(8-\xi_1)$.
\end{proof}

We must mention that the result for $\mathbb Z_2$ was already known before\cite{buratti1999old}.

The construction provided in this section produces
\begin{equation}
    2 \sum\limits_{j=2}^i 2^j \prod\limits_{l=j+1}^i (2^{l+1}-2)
\end{equation}
solutions for $d_\mu$ over $\mathbb Z_2^i$. The counting argument is that we can select $H_1$ in $2^{i+1}-2$ ways, $H_2$ in $2^i-2$ etc. until you stop and choose one of the remaining $2^j$ elements. And twice everything as you can flip the signs.

\begin{example}
    Take $i=4$ and $m=2$. You will have eight $d_\mu=-1$, four $d_\mu=3$, three $d_\mu=-5$ and one $d_\mu=11$.
\end{example}

\begin{example}
    \label{z2i:example:edge}
    Let's take $i=4$ and $m=3$. You get half the digressions (eight) $d_\mu=-1$. You set another quarter---four digressions $d_\mu=3$. Then you set two $d_\mu=-5$. Halfspace with two elements remains. All except one are set to $d_\mu=11$. And the last one is $-v+11=-5$ Thus you end up with the same set of digressions as in the previous example.
\end{example}
